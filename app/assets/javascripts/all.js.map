{"version":3,"sources":["app.es6","views/pages/show.es6","views/containers/edit.es6","views/containers/index.es6","views/containers/new.es6","views/containers/show.es6"],"names":[],"mappings":"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","file":"all.js","sourcesContent":["class App {\n\tready() {\n\t\tvar componentName, viewName;\n  \tcomponentName = $('#outlet').data('component');\n  \tviewName = $('#outlet').data('view');\n  \ttry {\n\t\t\tvar view = eval(\"new \" + componentName + viewName + \"()\");\n\t\t\tview.render();\n\t\t}\n\t\tcatch (err) {\n\t\t\tconsole.error(\"outer\", err.message);\n\t\t}\n\t}\n}\n\nvar app = new App;\n\n$(document).ready(app.ready);\n$(document).on('page:load', app.ready);\n","class PagesShow extends App {\n  render() {\n    console.log(\"pages/show\");\n\n    $(document).on('page:receive',function(){\n      tinymce.remove(); //fixes turbolinks issue\n    });\n\n    $('#editor1').css({ \"height\": \"500px\" });\n\n    tinymce.init({\n      selector: '#editor1',\n      plugins: \"code link visualblocks uploader formula glossary\",\n      menubar: false,\n      extended_valid_elements: \"span[!class]\",\n      toolbar: \"undo redo | formatselect | link code | uploader formula glossary\",\n      visualblocks_default_state: false, //show info boxes around elements \n      force_br_newlines: false,\n      force_p_newlines: true,\n      forced_root_block: '',\n      content_css: '/assets/bootstrap/dist/css/bootstrap.min.css',\n      setup: function(editor) {\n        editor.on('init', function(args) {\n          MathJax.Hub.Queue([\"Typeset\", MathJax.Hub, editor.getContent()], function() {\n            editor.getContent();\n          });\n          MathJax.Hub.Queue(function() {\n            editor.getContent();\n          });\n          editor.setContent(editor.getContent());\n          \n          var iframe = $(\"#\" + args.target.id + \"_ifr\");\n          var content = $(iframe[0].contentWindow.document.body);\n          var iframeElm = $.parseHTML(content.html());\n\n          \n          function clickIframeElm(element, index, array) {\n            $(element).addClass('idok');\n            $(element).click(function(e) {\n              console.log(e);\n            });\n          }\n          \n          var selected_text = \"\";\n          content.mouseup(function() {\n            selected_text = getIframeSelectionText(iframe[0]);\n            var selected = $.parseHTML(getIframeSelectionText(iframe[0]));\n          });\n\n        });\n      }\n    });\n\n    addPageBox();\n\n    // sortable pages order using jquery.sortable.min.js\n    function set_positions(){\n      // loop through and give each task a data-pos\n      // attribute that holds its position in the DOM\n      $('.pages-panel.sortable').find('a').each(function(i){\n        $(this).attr(\"data-pos\",i+1);\n      });\n    }\n\n    set_positions();\n    $('.pages-panel.sortable').sortable();\n\n    $('.pages-panel.sortable').sortable().bind('sortupdate', function(e, ui) {\n      // array to store new order\n      var updated_order = [];\n      // set the updated positions\n      set_positions();\n\n      // populate the updated_order array with the new task positions\n      $('.pages-panel.sortable').find('a').each(function(i){\n        updated_order.push({ id: $(this).data(\"id\"), position: i+1 });\n      });\n\n      // send the updated order via ajax\n      $.ajax({\n        type: \"PUT\",\n        url: '/pages/sort',\n        data: { order: updated_order }\n      });\n    });\n  }\n}\n\n// create a new page from the menu\nfunction addPageBox() {\n  $('.hidden_elem').hide();\n  $('#add_new_page_button').click(function () {\n    $('#add_new_page').toggle();\n  });\n}\n\n// selected text in the editor's iframe\nfunction getIframeSelectionText(iframe) {\n  var win = iframe.contentWindow;\n  var doc = win.document;\n\n  if (win.getSelection) {\n    return win.getSelection().toString();\n  } else if (doc.selection && doc.selection.createRange) {\n    return doc.selection.createRange().text;\n  }\n}","//     ____    ____\n//      /__ _/_ /_\\   _/_\n//     //_  /  //_ \\/ /\n// /__/ \\__/_ / \\__/\\/_\n//  \n// views\n// |-containers\n// | |-my\n\nclass ContainersEdit extends App {\n  render() {\n    console.log(\"containers/edit\"); //file\n  }\n}","//     ____    ____\n//      /__ _/_ /_\\   _/_\n//     //_  /  //_ \\/ /\n// /__/ \\__/_ / \\__/\\/_\n//  \n// views\n// |-containers\n// | |-index\n\nclass ContainersIndex extends App {\n  render() {\n    console.log(\"containers/index\"); //file\n  }\n}\n\nclass ContainersIndexPart extends ContainersIndex {\n  testTry() {\n    console.log(\"index-view-part\");\n  }\n}","//     ____    ____\n//      /__ _/_ /_\\   _/_\n//     //_  /  //_ \\/ /\n// /__/ \\__/_ / \\__/\\/_\n//  \n// views\n// |-containers\n// | |-my\n\nclass ContainersNew extends App {\n  render() {\n    console.log(\"containers/new\"); //file\n  }\n}","class ContainersShow extends App {\n\trender() {\n\t\tconsole.log(\"containers/show\");\n\t}\n}"],"sourceRoot":"/source/"}